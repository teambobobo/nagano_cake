<!--管理者側／ジャンル登録・一覧画面-->
<div class="container py-5">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <h3 class="mb-3">ジャンル一覧・追加</h3>

      <!--ジャンル登録・更新成功のアラートメッセージ-->
      <% if flash[:genre] %>
        <div class="alert alert-success">
          <%= flash[:genre] %>
        </div>
      <% end %>

      <!--ジャンル追加機能-->
      <div class="mb-3">
        <%=form_with model: @genre,url: admin_genres_path, method: :post do |f| %>
          <!--ジャンル登録失敗のエラーメッセージ-->
          <% if @genre.errors.any? %>
            <div class="alert alert-danger">ジャンル名を入力してください</div>
          <% end %>
          <table>
            <tbody>
              <tr>
                <td><%= f.label :"ジャンル名", class: "mr-3" %></td>
                <td><%= f.text_field :name, class: "mr-5" %></td>
                <td><%= f.submit'新規登録',class: "btn btn-success" %></td>
              </tr>
            </tbody>
          </table>
        <% end %>
      </div>

      <!--ジャンル一覧-->
      <table class="table">
        <thead class="table-active">
          <tr>
            <th>ジャンル</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <% @genres.each do |genre| %>
          <tr>
            <td><%= genre.name %></td>
            <td><%= link_to "編集する", edit_admin_genre_path(genre.id), class: "btn btn-success" %></td>
          </tr>
          <% end %>
        </tbody>
      </table>

    </div>
  </div>
</div>
